{% extends 'common/base.html' %}
{% load static %}
{% load i18n %}

{% block extrahead %} 
<meta http-equiv="refresh" content="5;url={{ redirect_url }}">
{% endblock %}

{% block content %}
<div class="flex flex-col items-center justify-center min-h-screen px-4 text-center">
    <h1 class="text-3xl font-semibold text-gray-800 mb-4">
        {% trans "You will be redirected in..." %}
    </h1>

    <div class="text-6xl font-bold text-blue-600" id="counter">5</div>

    <p class="text-sm text-gray-500 mt-2">
        <span id="manualLink" class="hidden">
            {% trans "If you are not automatically redirected," %} <br>
            <a href="{{ redirect_url }}" class="text-blue-600 underline">
                {% trans "click here" %}
            </a>.
        </span>
    </p>
</div>
{% endblock %}

{% block scripts %}
<script src="{% static 'converter/js/utilities.js' %}"></script>
<script>
    const counter = document.getElementById('counter');
    const manualLink = document.getElementById('manualLink');
    const timerUtils = new TimerUtils();

    timerUtils.secondTimer(6, counter, () => {
        manualLink.classList.remove('hidden');
    });
</script>
{% endblock %}
